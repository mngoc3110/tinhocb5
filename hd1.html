<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Demo Trang Web Gi√°ng Sinh ‚Äì Ch·ªâ ch·ªØ vs C√≥ h√¨nh</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 24px;
      background: #f5f5f5;
      transition: background 0.4s ease;
    }
    .container {
      max-width: 900px;
      margin: auto;
      position: relative;
      z-index: 1; /* ƒë·ªÉ n·∫±m d∆∞·ªõi l·ªõp tuy·∫øt */
    }

    .button-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 16px;
      margin-bottom: 4px;
    }

    .btn {
      padding: 10px 20px;
      background: #c62828;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
    }

    .btn-secondary {
      background: #1976d2;
    }

    .text-only, .layout-enhanced {
      padding: 20px;
      border-radius: 10px;
      background: white;
      margin-top: 20px;
      border: 1px solid #ddd;
    }

    .layout-enhanced {
      display: none;
      color: #222;
    }

    /* Kh·ªëi gi·ªõi thi·ªáu + ·∫£nh b√™n d∆∞·ªõi */
    .layout-main {
      margin-top: 16px;
    }

    .image-row {
      margin-top: 16px;
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .image-stack {
      margin-top: 16px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    img {
      width: 100%;
      border-radius: 12px;
      margin-bottom: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .image-card {
      padding: 10px;
      border-radius: 12px;
      border: 1px solid #eee;
      background: #fafafa;
      flex: 1 1 220px;
    }

    /* Khi b·∫≠t b·ªë c·ª•c */
    body.layout-on .text-only {
      display: none;
    }
    body.layout-on .layout-enhanced {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(20px);}
      to {opacity: 1; transform: translateY(0);}
    }

    /* GALLERY */
    .gallery {
      display: none;
      margin-top: 20px;
      padding: 16px;
      border-radius: 10px;
      background: #ffffff;
      border: 1px solid #ddd;
    }

    .gallery.visible {
      display: block;
    }

    .gallery h2 {
      margin-bottom: 10px;
      font-size: 18px;
    }

    .gallery-inner {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .gallery-track {
      flex: 1;
      display: flex;
      gap: 8px;
      overflow: hidden;
    }

    .gallery-item {
      flex: 1 1 calc(33.333% - 8px);
    }

    .gallery-item img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      border-radius: 8px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.25);
    }

    .gallery-nav-btn {
      background: #eeeeee;
      border: 1px solid #ccc;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 18px;
    }

    /* ·∫®n t·∫•t c·∫£ ·∫£nh b√™n d∆∞·ªõi khi Gallery b·∫≠t */
    body.gallery-on .layout-main {
      display: none;
    }

    /* L·ªöP TUY·∫æT R∆†I */
    .snow {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none; /* kh√¥ng ch·∫∑n click */
      overflow: hidden;
      z-index: 999;
    }

    .snowflake {
      position: absolute;
      top: -10px;
      color: #fff;
      opacity: 0.9;
      user-select: none;
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Demo: Trang web ch·ªâ vƒÉn b·∫£n v√† trang c√≥ h√¨nh ·∫£nh</h1>
  <p>Nh·∫•n n√∫t ƒë·ªÉ b·∫≠t b·ªë c·ª•c c√≥ h√¨nh ·∫£nh, th√™m nhi·ªÅu ·∫£nh, r·ªìi th·ª≠ xem t·∫•t c·∫£ ·ªü d·∫°ng gallery.</p>

  <div class="button-row">
    <button id="btnLayout" class="btn">üéÑ Hi·ªán b·ªë c·ª•c Gi√°ng Sinh ƒë·∫πp</button>
    <button id="btnGalleryToggle" class="btn btn-secondary">üñº Xem ·∫£nh d·∫°ng Gallery</button>
  </div>

  <!-- GALLERY -->
  <div id="gallery" class="gallery">
    <h2>Gallery ·∫£nh Gi√°ng Sinh (t·ªëi ƒëa 3 ·∫£nh / l·∫ßn xem)</h2>
    <div class="gallery-inner">
      <button id="galleryPrev" class="gallery-nav-btn">‚Äπ</button>
      <div id="galleryTrack" class="gallery-track"></div>
      <button id="galleryNext" class="gallery-nav-btn">‚Ä∫</button>
    </div>
  </div>

  <!-- PHI√äN B·∫¢N 1 -->
  <div class="text-only">
    <h2>Trang web Gi√°ng Sinh ‚Äì phi√™n b·∫£n ch·ªâ vƒÉn b·∫£n</h2>
    <p>ƒê√¢y l√† phi√™n b·∫£n ƒë∆°n gi·∫£n ch·ªâ c√≥ ch·ªØ, gi√∫p h·ªçc sinh th·∫•y giao di·ªán khi ch∆∞a c√≥ h√¨nh ·∫£nh.</p>
    <ul>
      <li>Gi·ªõi thi·ªáu v·ªÅ Gi√°ng Sinh</li>
      <li>Th·ªùi gian & ƒë·ªãa ƒëi·ªÉm s·ª± ki·ªán</li>
      <li>C√°c ho·∫°t ƒë·ªông</li>
    </ul>
  </div>

  <!-- PHI√äN B·∫¢N 2 -->
  <div class="layout-enhanced">
    <h2>üéÑ ƒê√™m Gi√°ng Sinh ·∫•m √°p t·∫°i tr∆∞·ªùng</h2>
    <p>Phi√™n b·∫£n n√†y gi·ªØ nguy√™n m√†u s·∫Øc nh∆∞ng b·ªï sung h√¨nh ·∫£nh ƒë·ªÉ trang h·∫•p d·∫´n h∆°n.</p>

    <div class="layout-main">
      <div class="intro-text">
        <h3>Th√¥ng tin b·ªØa ti·ªác Gi√°ng Sinh</h3>
        <p>Bu·ªïi ti·ªác g·ªìm ca h√°t, tr√≤ ch∆°i, trao qu√† v√† nhi·ªÅu ho·∫°t ƒë·ªông th√∫ v·ªã.</p>
        <ul>
          <li><strong>Th·ªùi gian:</strong> 24/12 ‚Äì 18:30</li>
          <li><strong>ƒê·ªãa ƒëi·ªÉm:</strong> S√¢n tr∆∞·ªùng</li>
        </ul>
      </div>

      <div class="image-row">
        <div class="image-card">
          <img src="caythong.jpg" alt="C√¢y th√¥ng Noel">
        </div>

        <div class="image-card">
          <img src="santa.jpg" alt="√îng gi√† Noel v√† qu√† t·∫∑ng">
        </div>
      </div>

      <div class="add-image-section">
        <h3>Th√™m ·∫£nh m·ªõi (x·∫øp d·ªçc)</h3>
        <button id="btnAddImage" class="btn" style="background:#2e7d32;">‚ûï Th√™m ·∫£nh</button>
        <div class="image-stack" id="imageStack"></div>
      </div>
    </div>
  </div>
</div>

<!-- L·ªöP TUY·∫æT -->
<div class="snow" id="snowLayer"></div>

<script>
  const btnLayout = document.getElementById("btnLayout");
  const btnGalleryToggle = document.getElementById("btnGalleryToggle");
  const btnAddImage = document.getElementById("btnAddImage");

  const gallery = document.getElementById("gallery");
  const galleryTrack = document.getElementById("galleryTrack");
  const galleryPrev = document.getElementById("galleryPrev");
  const galleryNext = document.getElementById("galleryNext");

  const imageStack = document.getElementById("imageStack");

  // B·∫≠t t·∫Øt b·ªë c·ª•c
  btnLayout.addEventListener("click", function () {
    document.body.classList.toggle("layout-on");
    if (document.body.classList.contains("layout-on")) {
      btnLayout.textContent = "‚¨Ö T·∫Øt b·ªë c·ª•c Gi√°ng Sinh";
    } else {
      btnLayout.textContent = "üéÑ Hi·ªán b·ªë c·ª•c Gi√°ng Sinh ƒë·∫πp";
    }
  });

  // Th√™m ·∫£nh m·ªõi
  let addedCount = 0;
  btnAddImage.addEventListener("click", function () {
    addedCount++;
    const card = document.createElement("div");
    card.className = "image-card";

    const img = document.createElement("img");
    img.src = addedCount % 2 === 0 ? "santa.jpg" : "caythong.jpg";
    img.alt = "·∫¢nh th√™m " + addedCount;

    card.appendChild(img);
    imageStack.appendChild(card);
  });

  // Gom ·∫£nh t·ª´ m·ªçi n∆°i
  function collectAllImages() {
    const imgs = document.querySelectorAll(".image-card img");
    return Array.from(imgs).map((img) => ({ src: img.src, alt: img.alt }));
  }

  let galleryImages = [];
  let galleryIndex = 0;

  function renderGallery() {
    galleryTrack.innerHTML = "";
    if (!galleryImages.length) {
      galleryTrack.textContent = "Ch∆∞a c√≥ ·∫£nh n√†o ƒë·ªÉ hi·ªÉn th·ªã.";
      return;
    }
    const maxVisible = 3;

    for (let i = 0; i < maxVisible && i < galleryImages.length; i++) {
      const idx = (galleryIndex + i) % galleryImages.length;
      const item = document.createElement("div");
      item.className = "gallery-item";

      const img = document.createElement("img");
      img.src = galleryImages[idx].src;
      img.alt = galleryImages[idx].alt;

      item.appendChild(img);
      galleryTrack.appendChild(item);
    }
  }

  // M·ªü / t·∫Øt Gallery
  btnGalleryToggle.addEventListener("click", function () {
    const isVisible = gallery.classList.toggle("visible");

    if (isVisible) {
      document.body.classList.add("gallery-on");
      galleryImages = collectAllImages();
      galleryIndex = 0;
      renderGallery();
      btnGalleryToggle.textContent = "‚úñ ƒê√≥ng Gallery";
    } else {
      document.body.classList.remove("gallery-on");
      btnGalleryToggle.textContent = "üñº Xem ·∫£nh d·∫°ng Gallery";
    }
  });

  galleryPrev.addEventListener("click", function () {
    if (!galleryImages.length) return;
    galleryIndex = (galleryIndex - 1 + galleryImages.length) % galleryImages.length;
    renderGallery();
  });

  galleryNext.addEventListener("click", function () {
    if (!galleryImages.length) return;
    galleryIndex = (galleryIndex + 1) % galleryImages.length;
    renderGallery();
  });

  // T·∫†O TUY·∫æT R∆†I
  const snowLayer = document.getElementById("snowLayer");

  function createSnowflakes(count) {
    for (let i = 0; i < count; i++) {
      const snowflake = document.createElement("span");
      snowflake.className = "snowflake";
      snowflake.textContent = "‚ùÑ";

      const size = 10 + Math.random() * 20; // 10‚Äì30px
      const left = Math.random() * 100;     // %
      const duration = 8 + Math.random() * 10; // 8‚Äì18s
      const delay = Math.random() * 10;        // 0‚Äì10s

      snowflake.style.fontSize = size + "px";
      snowflake.style.left = left + "vw";
      snowflake.style.animationDuration = duration + "s";
      snowflake.style.animationDelay = delay + "s";

      snowLayer.appendChild(snowflake);
    }
  }

  createSnowflakes(50); // s·ªë l∆∞·ª£ng b√¥ng tuy·∫øt
</script>

</body>
</html>